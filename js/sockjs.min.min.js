!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.SockJS=a()}}}(function(){var a;return function a(f,h,d){function b(k,i){if(!h[k]){if(!f[k]){var e="function"==typeof require&&require;if(!i&&e){return e(k,!0)}if(g){return g(k,!0)}var j=new Error("Cannot find module '"+k+"'");throw j.code="MODULE_NOT_FOUND",j}var m=h[k]={exports:{}};f[k][0].call(m.exports,function(l){var o=f[k][1][l];return b(o||l)},m,m.exports,a,f,h,d)}return h[k].exports}for(var g="function"==typeof require&&require,c=0;c<d.length;c++){b(d[c])}return b}({1:[function(b,c,d){(function(f){var e=b("./transport-list");c.exports=b("./main")(e),"_sockjs_onload" in f&&setTimeout(f._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(c,f,h){function d(){g.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var b=c("inherits"),g=c("./event");b(d,g),f.exports=d},{"./event":4,inherits:54}],3:[function(c,f,h){function d(){g.call(this)}var b=c("inherits"),g=c("./eventtarget");b(d,g),d.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},d.prototype.once=function(k,m){function o(){l.removeListener(k,o),j||(j=!0,m.apply(this,arguments))}var l=this,j=!1;this.on(k,o)},d.prototype.emit=function(){var k=arguments[0],m=this._listeners[k];if(m){for(var q=arguments.length,l=new Array(q-1),j=1;j<q;j++){l[j-1]=arguments[j]}for(var p=0;p<m.length;p++){m[p].apply(this,l)}}},d.prototype.on=d.prototype.addListener=g.prototype.addEventListener,d.prototype.removeListener=g.prototype.removeEventListener,f.exports.EventEmitter=d},{"./eventtarget":5,inherits:54}],4:[function(b,d,f){function c(e){this.type=e}c.prototype.initEvent=function(g,h,i){return this.type=g,this.bubbles=h,this.cancelable=i,this.timeStamp=+new Date,this},c.prototype.stopPropagation=function(){},c.prototype.preventDefault=function(){},c.CAPTURING_PHASE=1,c.AT_TARGET=2,c.BUBBLING_PHASE=3,d.exports=c},{}],5:[function(b,d,f){function c(){this._listeners={}}c.prototype.addEventListener=function(g,h){g in this._listeners||(this._listeners[g]=[]);var i=this._listeners[g];-1===i.indexOf(h)&&(i=i.concat([h])),this._listeners[g]=i},c.prototype.removeEventListener=function(g,i){var j=this._listeners[g];if(j){var h=j.indexOf(i);return -1!==h?void (j.length>1?this._listeners[g]=j.slice(0,h).concat(j.slice(h+1)):delete this._listeners[g]):void 0}},c.prototype.dispatchEvent=function(){var h=arguments[0],k=h.type,l=1===arguments.length?[h]:Array.apply(null,arguments);if(this["on"+k]&&this["on"+k].apply(this,l),k in this._listeners){for(var j=this._listeners[k],g=0;g<j.length;g++){j[g].apply(this,l)}}},d.exports=c},{}],6:[function(c,f,h){function d(e){g.call(this),this.initEvent("message",!1,!1),this.data=e}var b=c("inherits"),g=c("./event");b(d,g),f.exports=d},{"./event":4,inherits:54}],7:[function(c,f,h){function d(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}var b=c("json3"),g=c("./utils/iframe");d.prototype._transportClose=function(i,j){g.postMessage("c",b.stringify([i,j]))},d.prototype._transportMessage=function(e){g.postMessage("t",e)},d.prototype._send=function(e){this._transport.send(e)},d.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},f.exports=d},{"./utils/iframe":47,json3:55}],8:[function(m,h,d){var b=m("./utils/url"),g=m("./utils/event"),c=m("json3"),p=m("./facade"),j=m("./info-iframe-receiver"),f=m("./utils/iframe"),k=m("./location");h.exports=function(i,l){var q={};l.forEach(function(e){e.facadeTransport&&(q[e.facadeTransport.transportName]=e.facadeTransport)}),q[j.transportName]=j;var o;i.bootstrap_iframe=function(){var r;f.currentWindowId=k.hash.slice(1);var n=function(w){if(w.source===parent&&(void 0===o&&(o=w.origin),w.origin===o)){var e;try{e=c.parse(w.data)}catch(u){return void w.data}if(e.windowId===f.currentWindowId){switch(e.type){case"s":var y;try{y=c.parse(e.data)}catch(u){e.data;break}var x=y[0],A=y[1],z=y[2],s=y[3];if(x!==u.version){throw new Error('Incompatible SockJS! Main site uses: "'+x+'", the iframe: "'+u.version+'".')}if(!b.isOriginEqual(z,k.href)||!b.isOriginEqual(s,k.href)){throw new Error("Can't connect to different domain from within an iframe. ("+k.href+", "+z+", "+s+")")}r=new p(new q[A](z,s));break;case"m":r._send(e.data);break;case"c":r&&r._close(),r=null}}}};g.attachEvent("message",n),f.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0,json3:55}],9:[function(d,h,k){function g(i,m){c.call(this);var o=this,l=+new Date;this.xo=new m("GET",i),this.xo.once("finish",function(p,q){var n,r;if(200===p){if(r=+new Date-l,q){try{n=f.parse(q)}catch(p){}}b.isObject(n)||(n={})}o.emit("finish",n,r),o.removeAllListeners()})}var c=d("events").EventEmitter,j=d("inherits"),f=d("json3"),b=d("./utils/object");j(g,c),g.prototype.close=function(){this.removeAllListeners(),this.xo.close()},h.exports=g},{"./utils/object":49,debug:void 0,events:3,inherits:54,json3:55}],10:[function(k,h,d){function b(i){var l=this;c.call(this),this.ir=new f(i,j),this.ir.once("finish",function(e,o){l.ir=null,l.emit("message",m.stringify([e,o]))})}var g=k("inherits"),c=k("events").EventEmitter,m=k("json3"),j=k("./transport/sender/xhr-local"),f=k("./info-ajax");g(b,c),b.transportName="iframe-info-receiver",b.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},h.exports=b},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54,json3:55}],11:[function(b,c,d){(function(p){function k(i,n){var l=this;h.call(this);var q=function(){var o=l.ifr=new e(g.transportName,n,i);o.once("message",function(s){if(s){var u;try{u=j.parse(s)}catch(s){return l.emit("finish"),void l.close()}var v=u[0],r=u[1];l.emit("finish",v,r)}l.close()}),o.once("close",function(){l.emit("finish"),l.close()})};p.document.body?q():f.attachEvent("load",q)}var h=b("events").EventEmitter,m=b("inherits"),j=b("json3"),f=b("./utils/event"),e=b("./transport/iframe"),g=b("./info-iframe-receiver");m(k,h),k.enabled=function(){return e.enabled()},k.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},c.exports=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54,json3:55}],12:[function(y,q,g){function b(c,f){var h=this;k.call(this),setTimeout(function(){h.doXhr(c,f)},0)}var k=y("events").EventEmitter,d=y("inherits"),z=y("./utils/url"),w=y("./transport/sender/xdr"),j=y("./transport/sender/xhr-cors"),x=y("./transport/sender/xhr-local"),v=y("./transport/sender/xhr-fake"),p=y("./info-iframe"),m=y("./info-ajax");d(b,k),b._getReceiver=function(c,f,h){return h.sameOrigin?new m(f,x):j.enabled?new m(f,j):w.enabled&&h.sameScheme?new m(f,w):p.enabled()?new p(c,f):new m(f,v)},b.prototype.doXhr=function(f,h){var l=this,c=z.addPath(f,"/info");this.xo=b._getReceiver(f,c,h),this.timeoutRef=setTimeout(function(){l._cleanup(!1),l.emit("finish")},b.timeout),this.xo.once("finish",function(i,n){l._cleanup(!0),l.emit("finish",i,n)})},b.prototype._cleanup=function(c){clearTimeout(this.timeoutRef),this.timeoutRef=null,!c&&this.xo&&this.xo.close(),this.xo=null},b.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},b.timeout=8000,q.exports=b},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(b,c,d){(function(e){c.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(b,c,d){(function(D){function A(m,p,u){if(!(this instanceof A)){return new A(m,p,u)}if(arguments.length<1){throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present")}e.call(this),this.readyState=A.CONNECTING,this.extensions="",this.protocol="",u=u||{},u.protocols_whitelist&&E.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=u.transports,this._transportOptions=u.transportOptions||{};var h=u.sessionId||8;if("function"==typeof h){this._generateSessionId=h}else{if("number"!=typeof h){throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.")}this._generateSessionId=function(){return t.string(h)}}this._server=u.server||t.numberString(1000);var r=new z(m);if(!r.host||!r.protocol){throw new SyntaxError("The URL '"+m+"' is invalid")}if(r.hash){throw new SyntaxError("The URL must not contain a fragment")}if("http:"!==r.protocol&&"https:"!==r.protocol){throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.")}var g="https:"===r.protocol;if("https"===I.protocol&&!g){throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS")}p?Array.isArray(p)||(p=[p]):p=[];var f=p.sort();f.forEach(function(i,l){if(!i){throw new SyntaxError("The protocols entry '"+i+"' is invalid.")}if(l<f.length-1&&i===f[l+1]){throw new SyntaxError("The protocols entry '"+i+"' is duplicated.")}});var s=J.getOrigin(I.href);this._origin=s?s.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,this.url,this._urlInfo={nullOrigin:!q.hasDomain(),sameOrigin:J.isOriginEqual(this.url,I.href),sameScheme:J.isSchemeEqual(this.url,I.href)},this._ir=new O(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function G(f){return 1000===f||f>=3000&&f<=4999}b("./shims");var C,z=b("url-parse"),N=b("inherits"),F=b("json3"),t=b("./utils/random"),L=b("./utils/escape"),J=b("./utils/url"),H=b("./utils/event"),K=b("./utils/transport"),B=b("./utils/object"),q=b("./utils/browser"),E=b("./utils/log"),M=b("./event/event"),e=b("./event/eventtarget"),I=b("./location"),k=b("./event/close"),j=b("./event/trans-message"),O=b("./info-receiver");N(A,e),A.prototype.close=function(f,g){if(f&&!G(f)){throw new Error("InvalidAccessError: Invalid code")}if(g&&g.length>123){throw new SyntaxError("reason argument has an invalid length")}if(this.readyState!==A.CLOSING&&this.readyState!==A.CLOSED){this._close(f||1000,g||"Normal closure",!0)}},A.prototype.send=function(f){if("string"!=typeof f&&(f=""+f),this.readyState===A.CONNECTING){throw new Error("InvalidStateError: The connection has not been established yet")}this.readyState===A.OPEN&&this._transport.send(L.quote(f))},A.version=b("./version"),A.CONNECTING=0,A.OPEN=1,A.CLOSING=2,A.CLOSED=3,A.prototype._receiveInfo=function(f,g){if(this._ir=null,!f){return void this._close(1002,"Cannot connect to server")}this._rto=this.countRTO(g),this._transUrl=f.base_url?f.base_url:this.url,f=B.extend(f,this._urlInfo);var h=C.filterToEnabled(this._transportsWhitelist,f);this._transports=h.main,this._transports.length,this._connect()},A.prototype._connect=function(){for(var g=this._transports.shift();g;g=this._transports.shift()){if(g.transportName,g.needBody&&(!D.document.body||void 0!==D.document.readyState&&"complete"!==D.document.readyState&&"interactive"!==D.document.readyState)){return this._transports.unshift(g),void H.attachEvent("load",this._connect.bind(this))}var l=this._rto*g.roundTrips||5000;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),l);var h=J.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),f=this._transportOptions[g.transportName],m=new g(h,this._transUrl,f);return m.on("message",this._transportMessage.bind(this)),m.once("close",this._transportClose.bind(this)),m.transportName=g.transportName,void (this._transport=m)}this._close(2000,"All transports failed",!1)},A.prototype._transportTimeout=function(){this.readyState===A.CONNECTING&&this._transportClose(2007,"Transport timed out")},A.prototype._transportMessage=function(g){var l,m=this,h=g.slice(0,1),f=g.slice(1);switch(h){case"o":return void this._open();case"h":return this.dispatchEvent(new M("heartbeat")),void this.transport}if(f){try{l=F.parse(f)}catch(g){}}if(void 0!==l){switch(h){case"a":Array.isArray(l)&&l.forEach(function(i){m.transport,m.dispatchEvent(new j(i))});break;case"m":this.transport,this.dispatchEvent(new j(l));break;case"c":Array.isArray(l)&&2===l.length&&this._close(l[0],l[1],!0)}}},A.prototype._transportClose=function(f,g){if(this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!G(f)&&2000!==f&&this.readyState===A.CONNECTING){return void this._connect()}this._close(f,g)},A.prototype._open=function(){this._transport.transportName,this.readyState,this.readyState===A.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=A.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new M("open")),this.transport):this._close(1006,"Server lost session")},A.prototype._close=function(g,h,l){this.transport,this.readyState;var f=!1;if(this._ir&&(f=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===A.CLOSED){throw new Error("InvalidStateError: SockJS has already been closed")}this.readyState=A.CLOSING,setTimeout(function(){this.readyState=A.CLOSED,f&&this.dispatchEvent(new M("error"));var i=new k("close");i.wasClean=l||!1,i.code=g||1000,i.reason=h,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},A.prototype.countRTO=function(f){return f>100?4*f:300+f},c.exports=function(f){return C=K(f),b("./iframe-bootstrap")(A,f),A}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,json3:55,"url-parse":58}],15:[function(D,R,J){function G(b){var c=+b;return c!==c?c=0:0!==c&&c!==1/0&&c!==-1/0&&(c=(c>0||-1)*Math.floor(Math.abs(c))),c}function N(b){return b>>>0}function I(){}var F,V=Array.prototype,L=Object.prototype,B=Function.prototype,T=String.prototype,Q=V.slice,O=L.toString,S=function(b){return"[object Function]"===L.toString.call(b)},H=function(b){return"[object Array]"===O.call(b)},A=function(b){return"[object String]"===O.call(b)},K=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(b){return !1}}();F=K?function(b,d,f,c){!c&&d in b||Object.defineProperty(b,d,{configurable:!0,enumerable:!1,writable:!0,value:f})}:function(b,d,f,c){!c&&d in b||(b[d]=f)};var U=function(b,d,f){for(var c in d){L.hasOwnProperty.call(d,c)&&F(b,c,d[c],f)}},k=function(b){if(null==b){throw new TypeError("can't convert "+b+" to object")}return Object(b)};U(B,{bind:function(f){var j=this;if(!S(j)){throw new TypeError("Function.prototype.bind called on incompatible "+j)}for(var m=Q.call(arguments,1),h=function(){if(this instanceof b){var e=j.apply(this,m.concat(Q.call(arguments)));return Object(e)===e?e:this}return j.apply(f,m.concat(Q.call(arguments)))},d=Math.max(0,j.length-m.length),g=[],c=0;c<d;c++){g.push("$"+c)}var b=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this, arguments); }")(h);return j.prototype&&(I.prototype=j.prototype,b.prototype=new I,I.prototype=null),b}}),U(Array,{isArray:H});var P=Object("a"),z="a"!==P[0]||!(0 in P);U(V,{forEach:function(c){var f=k(this),h=z&&A(this)?this.split(""):f,d=arguments[1],b=-1,g=h.length>>>0;if(!S(c)){throw new TypeError}for(;++b<g;){b in h&&c.call(d,h[b],b,f)}}},!function(b){var c=!0,d=!0;return b&&(b.call("foo",function(e,g,f){"object"!=typeof f&&(c=!1)}),b.call([1],function(){d="string"==typeof this},"x")),!!b&&c&&d}(V.forEach));var q=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);U(V,{indexOf:function(c){var d=z&&A(this)?this.split(""):k(this),f=d.length>>>0;if(!f){return -1}var b=0;for(arguments.length>1&&(b=G(arguments[1])),b=b>=0?b:Math.max(0,f+b);b<f;b++){if(b in d&&d[b]===c){return b}}return -1}},q);var W=T.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var b=void 0===/()??/.exec("")[1];T.split=function(p,i){var g=this;if(void 0===p&&0===i){return[]}if("[object RegExp]"!==O.call(p)){return W.call(this,p,i)}var h,x,j,w,v=[],m=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.extended?"x":"")+(p.sticky?"y":""),t=0;for(p=new RegExp(p.source,m+"g"),g+="",b||(h=new RegExp("^"+p.source+"$(?!\\s)",m)),i=void 0===i?-1>>>0:N(i);(x=p.exec(g))&&!((j=x.index+x[0].length)>t&&(v.push(g.slice(t,x.index)),!b&&x.length>1&&x[0].replace(h,function(){for(var c=1;c<arguments.length-2;c++){void 0===arguments[c]&&(x[c]=void 0)}}),x.length>1&&x.index<g.length&&V.push.apply(v,x.slice(1)),w=x[0].length,t=j,v.length>=i));){p.lastIndex===x.index&&p.lastIndex++}return t===g.length?!w&&p.test("")||v.push(""):v.push(g.slice(t)),v.length>i?v.slice(0,i):v}}():"0".split(void 0,0).length&&(T.split=function(b,c){return void 0===b&&0===c?[]:W.call(this,b,c)});var C=T.substr,M="".substr&&"b"!=="0b".substr(-1);U(T,{substr:function(b,c){return C.call(this,b<0&&(b=this.length+b)<0?0:b,c)}},M)},{}],16:[function(b,c,d){c.exports=[b("./transport/websocket"),b("./transport/xhr-streaming"),b("./transport/xdr-streaming"),b("./transport/eventsource"),b("./transport/lib/iframe-wrap")(b("./transport/eventsource")),b("./transport/htmlfile"),b("./transport/lib/iframe-wrap")(b("./transport/htmlfile")),b("./transport/xhr-polling"),b("./transport/xdr-polling"),b("./transport/lib/iframe-wrap")(b("./transport/xhr-polling")),b("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(b,c,d){(function(g){function e(i,s,w,l){var u=this;j.call(this),setTimeout(function(){u._start(i,s,w,l)},0)}var j=q("events").EventEmitter,f=q("inherits"),v=q("../../utils/event"),m=q("../../utils/url"),h=g.XMLHttpRequest;f(e,j),e.prototype._start=function(s,w,y,r){var x=this;try{this.xhr=new h}catch(s){}if(!this.xhr){return this.emit("finish",0,"no xhr support"),void this._cleanup()}w=m.addQuery(w,"t="+ +new Date),this.unloadRef=v.unloadAdd(function(){x._cleanup(!0)});try{this.xhr.open(s,w,!0),this.timeout&&"timeout" in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){x.emit("finish",0,""),x._cleanup(!1)})}catch(s){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!e.supportsCORS||(this.xhr.withCredentials="true"),r&&r.headers){for(var l in r.headers){this.xhr.setRequestHeader(l,r.headers[l])}}this.xhr.onreadystatechange=function(){if(x.xhr){var i,o,u=x.xhr;switch(u.readyState,u.readyState){case 3:try{o=u.status,i=u.responseText}catch(i){}1223===o&&(o=204),200===o&&i&&i.length>0&&x.emit("chunk",o,i);break;case 4:o=u.status,1223===o&&(o=204),12005!==o&&12029!==o||(o=0),u.responseText,x.emit("finish",o,u.responseText),x._cleanup(!1)}}};try{x.xhr.send(y)}catch(s){x.emit("finish",0,""),x._cleanup(!1)}},e.prototype._cleanup=function(i){if(this.xhr){if(this.removeAllListeners(),v.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),i){try{this.xhr.abort()}catch(i){}}this.unloadRef=this.xhr=null}},e.prototype.close=function(){this._cleanup(!0)},e.enabled=!!h;var p=["Active"].concat("Object").join("X");!e.enabled&&p in g&&(h=function(){try{return new g[p]("Microsoft.XMLHTTP")}catch(i){return null}},e.enabled=!!new h);var k=!1;try{k="withCredentials" in new h}catch(q){}e.supportsCORS=k,c.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(b,c,d){(function(e){c.exports=e.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(b,c,d){(function(e){var f=e.WebSocket||e.MozWebSocket;c.exports=f?function(g){return new f(g)}:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(k,h,d){function b(e){if(!b.enabled()){throw new Error("Transport created when disabled")}c.call(this,e,"/eventsource",m,j)}var g=k("inherits"),c=k("./lib/ajax-based"),m=k("./receiver/eventsource"),j=k("./sender/xhr-cors"),f=k("eventsource");g(b,c),b.enabled=function(){return !!f},b.transportName="eventsource",b.roundTrips=2,h.exports=b},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(d,h,k){function g(e){if(!j.enabled){throw new Error("Transport created when disabled")}b.call(this,e,"/htmlfile",j,f)}var c=d("inherits"),j=d("./receiver/htmlfile"),f=d("./sender/xhr-local"),b=d("./lib/ajax-based");c(g,b),g.enabled=function(e){return j.enabled&&e.sameOrigin},g.transportName="htmlfile",g.roundTrips=2,h.exports=g},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(w,m,g){function b(f,l,s){if(!b.enabled()){throw new Error("Transport created when disabled")}x.call(this);var c=this;this.origin=h.getOrigin(s),this.baseUrl=s,this.transUrl=l,this.transport=f,this.windowId=k.string(8);var r=h.addPath(s,"/iframe.html")+"#"+this.windowId;this.iframeObj=v.createIframe(r,function(e){c.emit("close",1006,"Unable to load an iframe ("+e+")"),c.close()}),this.onmessageCallback=this._message.bind(this),p.attachEvent("message",this.onmessageCallback)}var j=w("inherits"),d=w("json3"),x=w("events").EventEmitter,q=w("../version"),h=w("../utils/url"),v=w("../utils/iframe"),p=w("../utils/event"),k=w("../utils/random");j(b,x),b.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){p.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(c){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},b.prototype._message=function(c){if(c.data,!h.isOriginEqual(c.origin,this.origin)){return c.origin,void this.origin}var f;try{f=d.parse(c.data)}catch(f){return void c.data}if(f.windowId!==this.windowId){return f.windowId,void this.windowId}switch(f.type){case"s":this.iframeObj.loaded(),this.postMessage("s",d.stringify([q,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",f.data);break;case"c":var i;try{i=d.parse(f.data)}catch(c){return void f.data}this.emit("close",i[0],i[1]),this.close()}},b.prototype.postMessage=function(c,f){this.iframeObj.post(d.stringify({windowId:this.windowId,type:c,data:f||""}),this.origin)},b.prototype.send=function(c){this.postMessage("m",c)},b.enabled=function(){return v.iframeEnabled},b.transportName="iframe",b.roundTrips=2,m.exports=b},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54,json3:55}],23:[function(b,c,d){(function(k){function h(i){if(!h.enabled()){throw new Error("Transport created when disabled")}j.call(this,i,"/jsonp",e,g)}var f=b("inherits"),j=b("./lib/sender-receiver"),g=b("./receiver/jsonp"),e=b("./sender/jsonp");f(h,j),h.enabled=function(){return !!k.document},h.transportName="jsonp-polling",h.roundTrips=1,h.needBody=!0,c.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(d,h,k){function g(e){return function(q,t,p){var m={};"string"==typeof t&&(m.headers={"Content-type":"text/plain"});var s=f.addPath(q,"/xhr_send"),l=new e("POST",s,t,m);return l.once("finish",function(i){if(l=null,200!==i&&204!==i){return p(new Error("http status "+i))}p()}),function(){l.close(),l=null;var i=new Error("Aborted");i.code=1000,p(i)}}}function c(m,o,p,l){b.call(this,m,o,g(l),p,l)}var j=d("inherits"),f=d("../../utils/url"),b=d("./sender-receiver");j(c,b),h.exports=c},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(c,f,h){function d(i,j){g.call(this),this.sendBuffer=[],this.sender=j,this.url=i}var b=c("inherits"),g=c("events").EventEmitter;b(d,g),d.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},d.prototype.sendScheduleWait=function(){var i,j=this;this.sendStop=function(){j.sendStop=null,clearTimeout(i)},i=setTimeout(function(){j.sendStop=null,j.sendSchedule()},25)},d.prototype.sendSchedule=function(){this.sendBuffer.length;var i=this;if(this.sendBuffer.length>0){var j="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,j,function(k){i.sendStop=null,k?(i.emit("close",k.code||1006,"Sending error: "+k),i.close()):i.sendScheduleWait()}),this.sendBuffer=[]}},d.prototype._cleanup=function(){this.removeAllListeners()},d.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},f.exports=d},{debug:void 0,events:3,inherits:54}],26:[function(b,c,d){(function(h){var f=b("inherits"),e=b("../iframe"),g=b("../../utils/object");c.exports=function(i){function j(k,l){e.call(this,i.transportName,k,l)}return f(j,e),j.enabled=function(m,l){if(!h.document){return !1}var k=g.extend({},l);return k.sameOrigin=!0,i.enabled(k)&&e.enabled()},j.transportName="iframe-"+i.transportName,j.needBody=!0,j.roundTrips=e.roundTrips+i.roundTrips-1,j.facadeTransport=i,j}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(c,f,h){function d(i,j,k){g.call(this),this.Receiver=i,this.receiveUrl=j,this.AjaxObject=k,this._scheduleReceiver()}var b=c("inherits"),g=c("events").EventEmitter;b(d,g),d.prototype._scheduleReceiver=function(){var i=this,j=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);j.on("message",function(k){i.emit("message",k)}),j.once("close",function(k,e){i.pollIsClosing,i.poll=j=null,i.pollIsClosing||("network"===e?i._scheduleReceiver():(i.emit("close",k||1006,e),i.removeAllListeners()))})},d.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},f.exports=d},{debug:void 0,events:3,inherits:54}],28:[function(d,h,k){function g(q,v,w,s,p){var m=j.addPath(q,v),o=this;f.call(this,q,w),this.poll=new b(s,m,p),this.poll.on("message",function(e){o.emit("message",e)}),this.poll.once("close",function(i,l){o.poll=null,o.emit("close",i,l),o.close()})}var c=d("inherits"),j=d("../../utils/url"),f=d("./buffered-sender"),b=d("./polling");c(g,f),g.prototype.close=function(){f.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},h.exports=g},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(c,g,j){function f(i){h.call(this);var k=this,l=this.es=new d(i);l.onmessage=function(e){e.data,k.emit("message",decodeURI(e.data))},l.onerror=function(e){l.readyState;var m=2!==l.readyState?"network":"permanent";k._cleanup(),k._close(m)}}var b=c("inherits"),h=c("events").EventEmitter,d=c("eventsource");b(f,h),f.prototype.abort=function(){this._cleanup(),this._close("user")},f.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},f.prototype._close=function(i){var k=this;setTimeout(function(){k.emit("close",null,i),k.removeAllListeners()},200)},g.exports=f},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(b,c,d){(function(g){function e(n){k.call(this);var o=this;f.polluteGlobalNamespace(),this.id="a"+h.string(6),n=q.addQuery(n,"c="+decodeURIComponent(f.WPrefix+"."+this.id)),e.htmlfileEnabled;var l=e.htmlfileEnabled?f.createHtmlfile:f.createIframe;g[f.WPrefix][this.id]={start:function(){o.iframeObj.loaded()},message:function(i){o.emit("message",i)},stop:function(){o._cleanup(),o._close("network")}},this.iframeObj=l(n,function(){o._cleanup(),o._close("permanent")})}var j=p("inherits"),f=p("../../utils/iframe"),q=p("../../utils/url"),k=p("events").EventEmitter,h=p("../../utils/random");j(e,k),e.prototype.abort=function(){this._cleanup(),this._close("user")},e.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete g[f.WPrefix][this.id]},e.prototype._close=function(i){this.emit("close",null,i),this.removeAllListeners()},e.htmlfileEnabled=!1;var m=["Active"].concat("Object").join("X");if(m in g){try{e.htmlfileEnabled=!!new g[m]("htmlfile")}catch(p){}}e.enabled=e.htmlfileEnabled||f.iframeEnabled,c.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(b,c,d){(function(p){function k(i){var n=this;g.call(this),h.polluteGlobalNamespace(),this.id="a"+m.string(6);var l=f.addQuery(i,"c="+encodeURIComponent(h.WPrefix+"."+this.id));p[h.WPrefix][this.id]=this._callback.bind(this),this._createScript(l),this.timeoutId=setTimeout(function(){n._abort(new Error("JSONP script loaded abnormally (timeout)"))},k.timeout)}var h=b("../../utils/iframe"),m=b("../../utils/random"),j=b("../../utils/browser"),f=b("../../utils/url"),e=b("inherits"),g=b("events").EventEmitter;e(k,g),k.prototype.abort=function(){if(p[h.WPrefix][this.id]){var i=new Error("JSONP user aborted read");i.code=1000,this._abort(i)}},k.timeout=35000,k.scriptErrorTimeout=1000,k.prototype._callback=function(i){this._cleanup(),this.aborting||(i&&this.emit("message",i),this.emit("close",null,"network"),this.removeAllListeners())},k.prototype._abort=function(i){this._cleanup(),this.aborting=!0,this.emit("close",i.code,i.message),this.removeAllListeners()},k.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var i=this.script;i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,this.script=null}delete p[h.WPrefix][this.id]},k.prototype._scriptError=function(){var i=this;this.errorTimer||(this.errorTimer=setTimeout(function(){i.loadedOkay||i._abort(new Error("JSONP script loaded abnormally (onerror)"))},k.scriptErrorTimeout))},k.prototype._createScript=function(o){var s,q=this,n=this.script=p.document.createElement("script");if(n.id="a"+m.string(8),n.src=o,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){q._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(n.readyState,/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){q.loadedOkay=!0;try{n.onclick()}catch(i){}}n&&q._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===n.async&&p.document.attachEvent){if(j.isOpera()){s=this.script2=p.document.createElement("script"),s.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=s.async=!1}else{try{n.htmlFor=n.id,n.event="onclick"}catch(o){}n.async=!0}}void 0!==n.async&&(n.async=!0);var l=p.document.getElementsByTagName("head")[0];l.insertBefore(n,l.firstChild),s&&l.insertBefore(s,l.firstChild)},c.exports=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(c,f,h){function d(i,j){g.call(this);var k=this;this.bufferPosition=0,this.xo=new j("POST",i,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(l,n){k._chunkHandler(l,n),k.xo=null;var m=200===l?"network":"permanent";k.emit("close",null,m),k._cleanup()})}var b=c("inherits"),g=c("events").EventEmitter;b(d,g),d.prototype._chunkHandler=function(k,m){if(200===k&&m){for(var o=-1;;this.bufferPosition+=o+1){var l=m.slice(this.bufferPosition);if(-1===(o=l.indexOf("\n"))){break}var j=l.slice(0,o);j&&this.emit("message",j)}}},d.prototype._cleanup=function(){this.removeAllListeners()},d.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},f.exports=d},{debug:void 0,events:3,inherits:54}],33:[function(b,c,d){(function(m){function j(i){try{return m.document.createElement('<iframe name="'+i+'">')}catch(l){var n=m.document.createElement("iframe");return n.name=i,n}}function g(){k=m.document.createElement("form"),k.style.display="none",k.style.position="absolute",k.method="POST",k.enctype="application/x-www-form-urlencoded",k.acceptCharset="UTF-8",h=m.document.createElement("textarea"),h.name="d",k.appendChild(h),m.document.body.appendChild(k)}var k,h,f=b("../../utils/random"),e=b("../../utils/url");c.exports=function(l,p,r){k||g();var i="a"+f.string(8);k.target=i,k.action=e.addQuery(e.addPath(l,"/jsonp_send"),"i="+i);var q=j(i);q.id=i,q.style.display="none",k.appendChild(q);try{h.value=p}catch(l){}k.submit();var o=function(n){q.onerror&&(q.onreadystatechange=q.onerror=q.onload=null,setTimeout(function(){q.parentNode.removeChild(q),q=null},500),h.value="",r(n))};return q.onerror=function(){o()},q.onload=function(){o()},q.onreadystatechange=function(n){q.readyState,"complete"===q.readyState&&o()},function(){o(new Error("Aborted"))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(b,c,d){(function(m){function j(i,o,p){var l=this;g.call(this),setTimeout(function(){l._start(i,o,p)},0)}var g=b("events").EventEmitter,k=b("inherits"),h=b("../../utils/event"),f=b("../../utils/browser"),e=b("../../utils/url");k(j,g),j.prototype._start=function(n,q,p){var l=this,s=new m.XDomainRequest;q=e.addQuery(q,"t="+ +new Date),s.onerror=function(){l._error()},s.ontimeout=function(){l._error()},s.onprogress=function(){s.responseText,l.emit("chunk",200,s.responseText)},s.onload=function(){l.emit("finish",200,s.responseText),l._cleanup(!1)},this.xdr=s,this.unloadRef=h.unloadAdd(function(){l._cleanup(!0)});try{this.xdr.open(n,q),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(p)}catch(n){this._error()}},j.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},j.prototype._cleanup=function(i){if(this.xdr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,i){try{this.xdr.abort()}catch(i){}}this.unloadRef=this.xdr=null}},j.prototype.close=function(){this._cleanup(!0)},j.enabled=!(!m.XDomainRequest||!f.hasDomain()),c.exports=j}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(c,f,h){function d(i,k,l,j){g.call(this,i,k,l,j)}var b=c("inherits"),g=c("../driver/xhr");b(d,g),d.enabled=g.enabled&&g.supportsCORS,f.exports=d},{"../driver/xhr":17,inherits:54}],36:[function(c,f,g){function d(){var e=this;b.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},d.timeout)}var b=c("events").EventEmitter;c("inherits")(d,b),d.prototype.close=function(){clearTimeout(this.to)},d.timeout=2000,f.exports=d},{events:3,inherits:54}],37:[function(c,f,h){function d(i,j,k){g.call(this,i,j,k,{noCredentials:!0})}var b=c("inherits"),g=c("../driver/xhr");b(d,g),d.enabled=g.enabled,f.exports=d},{"../driver/xhr":17,inherits:54}],38:[function(k,h,d){function b(l,p,q){if(!b.enabled()){throw new Error("Transport created when disabled")}j.call(this);var o=this,i=c.addPath(l,"/websocket");i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),this.url=i,this.ws=new f(this.url,[],q),this.ws.onmessage=function(e){e.data,o.emit("message",e.data)},this.unloadRef=g.unloadAdd(function(){o.ws.close()}),this.ws.onclose=function(e){e.code,e.reason,o.emit("close",e.code,e.reason),o._cleanup()},this.ws.onerror=function(e){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}var g=k("../utils/event"),c=k("../utils/url"),m=k("inherits"),j=k("events").EventEmitter,f=k("./driver/websocket");m(b,j),b.prototype.send=function(i){var l="["+i+"]";this.ws.send(l)},b.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},b.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),g.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},b.enabled=function(){return !!f},b.transportName="websocket",b.roundTrips=2,h.exports=b},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(k,h,d){function b(e){if(!f.enabled){throw new Error("Transport created when disabled")}c.call(this,e,"/xhr",j,f)}var g=k("inherits"),c=k("./lib/ajax-based"),m=k("./xdr-streaming"),j=k("./receiver/xhr"),f=k("./sender/xdr");g(b,c),b.enabled=m.enabled,b.transportName="xdr-polling",b.roundTrips=2,h.exports=b},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(d,h,k){function g(e){if(!b.enabled){throw new Error("Transport created when disabled")}j.call(this,e,"/xhr_streaming",f,b)}var c=d("inherits"),j=d("./lib/ajax-based"),f=d("./receiver/xhr"),b=d("./sender/xdr");c(g,j),g.enabled=function(e){return !e.cookie_needed&&!e.nullOrigin&&(b.enabled&&e.sameScheme)},g.transportName="xdr-streaming",g.roundTrips=2,h.exports=g},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(k,h,d){function b(e){if(!f.enabled&&!j.enabled){throw new Error("Transport created when disabled")}c.call(this,e,"/xhr",m,j)}var g=k("inherits"),c=k("./lib/ajax-based"),m=k("./receiver/xhr"),j=k("./sender/xhr-cors"),f=k("./sender/xhr-local");g(b,c),b.enabled=function(e){return !e.nullOrigin&&(!(!f.enabled||!e.sameOrigin)||j.enabled)},b.transportName="xhr-polling",b.roundTrips=2,h.exports=b},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(b,c,d){(function(p){function k(i){if(!e.enabled&&!f.enabled){throw new Error("Transport created when disabled")}m.call(this,i,"/xhr_streaming",j,f)}var h=b("inherits"),m=b("./lib/ajax-based"),j=b("./receiver/xhr"),f=b("./sender/xhr-cors"),e=b("./sender/xhr-local"),g=b("../utils/browser");h(k,m),k.enabled=function(i){return !i.nullOrigin&&(!g.isOpera()&&f.enabled)},k.transportName="xhr-streaming",k.roundTrips=2,k.needBody=!!p.document,c.exports=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(b,c,d){(function(e){e.crypto&&e.crypto.getRandomValues?c.exports.randomBytes=function(f){var g=new Uint8Array(f);return e.crypto.getRandomValues(g),g}:c.exports.randomBytes=function(f){for(var g=new Array(f),h=0;h<f;h++){g[h]=Math.floor(256*Math.random())}return g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(b,c,d){(function(e){c.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!f.document){return !0}try{return !!f.document.domain}catch(f){return !1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(c,g,j){var f,b=c("json3"),h=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,d=function(i){var l,m={},k=[];for(l=0;l<65536;l++){k.push(String.fromCharCode(l))}return i.lastIndex=0,k.join("").replace(i,function(e){return m[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),i.lastIndex=0,m};g.exports={quote:function(i){var k=b.stringify(i);return h.lastIndex=0,h.test(k)?(f||(f=d(h)),k.replace(h,function(e){return f[e]})):k}}},{json3:55}],46:[function(b,c,d){(function(k){var h=b("./random"),f={},j=!1,g=k.chrome&&k.chrome.app&&k.chrome.app.runtime;c.exports={attachEvent:function(i,l){void 0!==k.addEventListener?k.addEventListener(i,l,!1):k.document&&k.attachEvent&&(k.document.attachEvent("on"+i,l),k.attachEvent("on"+i,l))},detachEvent:function(i,l){void 0!==k.addEventListener?k.removeEventListener(i,l,!1):k.document&&k.detachEvent&&(k.document.detachEvent("on"+i,l),k.detachEvent("on"+i,l))},unloadAdd:function(i){if(g){return null}var l=h.string(8);return f[l]=i,j&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(i){i in f&&delete f[i]},triggerUnloadCallbacks:function(){for(var i in f){f[i](),delete f[i]}}};var e=function(){j||(j=!0,c.exports.triggerUnloadCallbacks())};g||c.exports.attachEvent("unload",e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(b,c,d){(function(h){var f=b("./event"),e=b("json3"),g=b("./browser");c.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){c.exports.WPrefix in h||(h[c.exports.WPrefix]={})},postMessage:function(i,j){h.parent!==h&&h.parent.postMessage(e.stringify({windowId:c.exports.currentWindowId,type:i,data:j||""}),"*")},createIframe:function(v,n){var m,j,w=h.document.createElement("iframe"),q=function(){clearTimeout(m);try{w.onload=null}catch(i){}w.onerror=null},k=function(){w&&(q(),setTimeout(function(){w&&w.parentNode.removeChild(w),w=null},0),f.unloadDel(j))},r=function(i){w&&(k(),n(i))},p=function(i,l){try{setTimeout(function(){w&&w.contentWindow&&w.contentWindow.postMessage(i,l)},0)}catch(i){}};return w.src=v,w.style.display="none",w.style.position="absolute",w.onerror=function(){r("onerror")},w.onload=function(){clearTimeout(m),m=setTimeout(function(){r("onload timeout")},2000)},h.document.body.appendChild(w),m=setTimeout(function(){r("timeout")},15000),j=f.unloadAdd(k),{post:p,cleanup:k,loaded:q}},createHtmlfile:function(z,n){var k,A,x,m=["Active"].concat("Object").join("X"),y=new h[m]("htmlfile"),w=function(){clearTimeout(k),x.onerror=null},r=function(){y&&(w(),f.unloadDel(A),x.parentNode.removeChild(x),x=y=null,CollectGarbage())},q=function(i){y&&(r(),n(i))},v=function(i,l){try{setTimeout(function(){x&&x.contentWindow&&x.contentWindow.postMessage(i,l)},0)}catch(i){}};y.open(),y.write('<html><script>document.domain="'+h.document.domain+'";<\/script></html>'),y.close(),y.parentWindow[c.exports.WPrefix]=h[c.exports.WPrefix];var j=y.createElement("div");return y.body.appendChild(j),x=y.createElement("iframe"),j.appendChild(x),x.src=z,x.onerror=function(){q("onerror")},k=setTimeout(function(){q("timeout")},15000),A=f.unloadAdd(r),{post:v,cleanup:r,loaded:w}}},c.exports.iframeEnabled=!1,h.document&&(c.exports.iframeEnabled=("function"==typeof h.postMessage||"object"==typeof h.postMessage)&&!g.isKonqueror())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0,json3:55}],48:[function(b,c,d){(function(e){var f={};["log","debug","warn"].forEach(function(i){var h;try{h=g.console&&g.console[i]&&g.console[i].apply}catch(g){}f[i]=h?function(){return g.console[i].apply(g.console,arguments)}:"log"===i?function(){}:f.log}),c.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(b,c,d){c.exports={isObject:function(f){var g=typeof f;return"function"===g||"object"===g&&!!f},extend:function(g){if(!this.isObject(g)){return g}for(var j,k,h=1,f=arguments.length;h<f;h++){j=arguments[h];for(k in j){Object.prototype.hasOwnProperty.call(j,k)&&(g[k]=j[k])}}return g}}},{}],50:[function(c,f,g){var d=c("crypto"),b="abcdefghijklmnopqrstuvwxyz012345";f.exports={string:function(h){for(var j=b.length,l=d.randomBytes(h),k=[],i=0;i<h;i++){k.push(b.substr(l[i]%j,1))}return k.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(h){var i=(""+(h-1)).length;return(new Array(i+1).join("0")+this.number(h)).slice(-i)}}},{crypto:43}],51:[function(b,c,d){c.exports=function(e){return{filterToEnabled:function(g,h){var f={main:[],facade:[]};return g?"string"==typeof g&&(g=[g]):g=[],e.forEach(function(i){if(i&&("websocket"!==i.transportName||!1!==h.websocket)){return g.length&&-1===g.indexOf(i.transportName)?void i.transportName:void (i.enabled(h)?(i.transportName,f.main.push(i),i.facadeTransport&&f.facade.push(i.facadeTransport)):i.transportName)}}),f}}}},{debug:void 0}],52:[function(b,d,f){var c=b("url-parse");d.exports={getOrigin:function(g){if(!g){return null}var h=new c(g);if("file:"===h.protocol){return null}var i=h.port;return i||(i="https:"===h.protocol?"443":"80"),h.protocol+"//"+h.hostname+":"+i},isOriginEqual:function(g,h){var i=this.getOrigin(g)===this.getOrigin(h);return i},isSchemeEqual:function(g,h){return g.split(":")[0]===h.split(":")[0]},addPath:function(g,h){var i=g.split("?");return i[0]+h+(i[1]?"?"+i[1]:"")},addQuery:function(g,h){return g+(-1===g.indexOf("?")?"?"+h:"&"+h)}}},{debug:void 0,"url-parse":58}],53:[function(b,c,d){c.exports="1.1.4"},{}],54:[function(b,c,d){"function"==typeof Object.create?c.exports=function(f,g){f.super_=g,f.prototype=Object.create(g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:c.exports=function(f,g){f.super_=g;var h=function(){};h.prototype=g.prototype,f.prototype=new h,f.prototype.constructor=f}},{}],55:[function(c,d,b){(function(f){(function(){function j(X,ak){function ad(w){if(ad[w]!==ae){return ad[w]}var v;if("bug-string-char-index"==w){v="a"!="a"[0]}else{if("json"==w){v=ad("json-stringify")&&ad("json-parse")}else{var y,u='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==w){var o=ak.stringify,C="function"==typeof o&&ai;if(C){(y=function(){return 1}).toJSON=y;try{C="0"===o(0)&&"0"===o(new Z)&&'""'==o(new ac)&&o(H)===ae&&o(ae)===ae&&o()===ae&&"1"===o(y)&&"[1]"==o([y])&&"[null]"==o([ae])&&"null"==o(null)&&"[null,null,null]"==o([ae,H,null])&&o({a:[y,!0,!1,null,"\0\b\n\f\r\t"]})==u&&"1"===o(null,y)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new V(-8640000000000000))&&'"+275760-09-13T00:00:00.000Z"'==o(new V(8640000000000000))&&'"-000001-01-01T00:00:00.000Z"'==o(new V(-62198755200000))&&'"1969-12-31T23:59:59.999Z"'==o(new V(-1))}catch(w){C=!1}}v=C}if("json-parse"==w){var A=ak.parse;if("function"==typeof A){try{if(0===A("0")&&!A(!1)){y=A(u);var x=5==y.a.length&&1===y.a[0];if(x){try{x=!A('"\t"')}catch(w){}if(x){try{x=1!==A("01")}catch(w){}}if(x){try{x=1!==A("1.")}catch(w){}}}}}catch(w){x=!1}}v=x}}}return ad[w]=!!v}X||(X=g.Object()),ak||(ak=g.Object());var Z=X.Number||g.Number,ac=X.String||g.String,ao=X.Object||g.Object,V=X.Date||g.Date,am=X.SyntaxError||g.SyntaxError,aj=X.TypeError||g.TypeError,ah=X.Math||g.Math,al=X.JSON||g.JSON;"object"==typeof al&&al&&(ak.stringify=al.stringify,ak.parse=al.parse);var ab,Q,ae,an=ao.prototype,H=an.toString,ai=new V(-3509827334573292);try{ai=-109252==ai.getUTCFullYear()&&0===ai.getUTCMonth()&&1===ai.getUTCDate()&&10==ai.getUTCHours()&&37==ai.getUTCMinutes()&&6==ai.getUTCSeconds()&&708==ai.getUTCMilliseconds()}catch(X){}if(!ad("json")){var M=ad("bug-string-char-index");if(!ai){var K=ah.floor,ap=[0,31,59,90,120,151,181,212,243,273,304,334],W=function(h,o){return ap[o]+365*(h-1970)+K((h-1969+(o=+(o>1)))/4)-K((h-1901+o)/100)+K((h-1601+o)/400)}}if((ab=an.hasOwnProperty)||(ab=function(h){var o,u={};return(u.__proto__=null,u.__proto__={toString:1},u).toString!=H?ab=function(v){var w=this.__proto__,x=v in (this.__proto__=null,this);return this.__proto__=w,x}:(o=u.constructor,ab=function(v){var w=(this.constructor||o).prototype;return v in this&&!(v in w&&this[v]===w[v])}),u=null,ab.call(this,h)}),Q=function(u,w){var y,v,h,x=0;(y=function(){this.valueOf=0}).prototype.valueOf=0,v=new y;for(h in v){ab.call(v,h)&&x++}return y=v=null,x?Q=2==x?function(A,E){var I,C={},o="[object Function]"==H.call(A);for(I in A){o&&"prototype"==I||ab.call(C,I)||!(C[I]=1)||!ab.call(A,I)||E(I)}}:function(A,E){var I,C,o="[object Function]"==H.call(A);for(I in A){o&&"prototype"==I||!ab.call(A,I)||(C="constructor"===I)||E(I)}(C||ab.call(A,I="constructor"))&&E(I)}:(v=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],Q=function(E,I){var N,C,L="[object Function]"==H.call(E),A=!L&&"function"!=typeof E.constructor&&t[typeof E.hasOwnProperty]&&E.hasOwnProperty||ab;for(N in E){L&&"prototype"==N||!A.call(E,N)||I(N)}for(C=v.length;N=v[--C];A.call(E,N)&&I(N)){}}),Q(u,w)},!ad("json-stringify")){var ag={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},s=function(h,o){return("000000"+(o||0)).slice(-h)},l=function(u){for(var x='"',A=0,w=u.length,h=!M||w>10,y=h&&(M?u.split(""):u);A<w;A++){var v=u.charCodeAt(A);switch(v){case 8:case 9:case 10:case 12:case 13:case 34:case 92:x+=ag[v];break;default:if(v<32){x+="\\u00"+s(2,v.toString(16));break}x+=h?y[A]:u.charAt(A)}}return x+'"'},D=function(L,ax,U,R,au,T,O){var aB,aq,E,az,av,ay,aA,aw,y,aC,at,P,v,S,ar,x;try{aB=ax[L]}catch(L){}if("object"==typeof aB&&aB){if("[object Date]"!=(aq=H.call(aB))||ab.call(aB,"toJSON")){"function"==typeof aB.toJSON&&("[object Number]"!=aq&&"[object String]"!=aq&&"[object Array]"!=aq||ab.call(aB,"toJSON"))&&(aB=aB.toJSON(L))}else{if(aB>-1/0&&aB<1/0){if(W){for(av=K(aB/86400000),E=K(av/365.2425)+1970-1;W(E+1,0)<=av;E++){}for(az=K((av-W(E,0))/30.42);W(E,az+1)<=av;az++){}av=1+av-W(E,az),ay=(aB%86400000+86400000)%86400000,aA=K(ay/3600000)%24,aw=K(ay/60000)%60,y=K(ay/1000)%60,aC=ay%1000}else{E=aB.getUTCFullYear(),az=aB.getUTCMonth(),av=aB.getUTCDate(),aA=aB.getUTCHours(),aw=aB.getUTCMinutes(),y=aB.getUTCSeconds(),aC=aB.getUTCMilliseconds()}aB=(E<=0||E>=10000?(E<0?"-":"+")+s(6,E<0?-E:E):s(4,E))+"-"+s(2,az+1)+"-"+s(2,av)+"T"+s(2,aA)+":"+s(2,aw)+":"+s(2,y)+"."+s(3,aC)+"Z"}else{aB=null}}}if(U&&(aB=U.call(ax,L,aB)),null===aB){return"null"}if("[object Boolean]"==(aq=H.call(aB))){return""+aB}if("[object Number]"==aq){return aB>-1/0&&aB<1/0?""+aB:"null"}if("[object String]"==aq){return l(""+aB)}if("object"==typeof aB){for(S=O.length;S--;){if(O[S]===aB){throw aj()}}if(O.push(aB),at=[],ar=T,T+=au,"[object Array]"==aq){for(v=0,S=aB.length;v<S;v++){P=D(v,aB,U,R,au,T,O),at.push(P===ae?"null":P)}x=at.length?au?"[\n"+T+at.join(",\n"+T)+"\n"+ar+"]":"["+at.join(",")+"]":"[]"}else{Q(R||aB,function(h){var o=D(h,aB,U,R,au,T,O);o!==ae&&at.push(l(h)+":"+(au?" ":"")+o)}),x=at.length?au?"{\n"+T+at.join(",\n"+T)+"\n"+ar+"}":"{"+at.join(",")+"}":"{}"}return O.pop(),x}};ak.stringify=function(L,A,w){var h,y,v,E;if(t[typeof A]&&A){if("[object Function]"==(E=H.call(A))){y=A}else{if("[object Array]"==E){v={};for(var x,I=0,C=A.length;I<C;x=A[I++],("[object String]"==(E=H.call(x))||"[object Number]"==E)&&(v[x]=1)){}}}}if(w){if("[object Number]"==(E=H.call(w))){if((w-=w%1)>0){for(h="",w>10&&(w=10);h.length<w;h+=" "){}}}else{"[object String]"==E&&(h=w.length<=10?w:w.slice(0,10))}}return D("",(x={},x[""]=L,x),y,v,h,"",[])}}if(!ad("json-parse")){var Y,F,aa=ac.fromCharCode,af={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},J=function(){throw Y=F=null,am()},B=function(){for(var u,x,A,w,h,y=F,v=y.length;Y<v;){switch(h=y.charCodeAt(Y)){case 9:case 10:case 13:case 32:Y++;break;case 123:case 125:case 91:case 93:case 58:case 44:return u=M?y.charAt(Y):y[Y],Y++,u;case 34:for(u="@",Y++;Y<v;){if((h=y.charCodeAt(Y))<32){J()}else{if(92==h){switch(h=y.charCodeAt(++Y)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:u+=af[h],Y++;break;case 117:for(x=++Y,A=Y+4;Y<A;Y++){(h=y.charCodeAt(Y))>=48&&h<=57||h>=97&&h<=102||h>=65&&h<=70||J()}u+=aa("0x"+y.slice(x,Y));break;default:J()}}else{if(34==h){break}for(h=y.charCodeAt(Y),x=Y;h>=32&&92!=h&&34!=h;){h=y.charCodeAt(++Y)}u+=y.slice(x,Y)}}}if(34==y.charCodeAt(Y)){return Y++,u}J();default:if(x=Y,45==h&&(w=!0,h=y.charCodeAt(++Y)),h>=48&&h<=57){for(48==h&&(h=y.charCodeAt(Y+1))>=48&&h<=57&&J(),w=!1;Y<v&&(h=y.charCodeAt(Y))>=48&&h<=57;Y++){}if(46==y.charCodeAt(Y)){for(A=++Y;A<v&&(h=y.charCodeAt(A))>=48&&h<=57;A++){}A==Y&&J(),Y=A}if(101==(h=y.charCodeAt(Y))||69==h){for(h=y.charCodeAt(++Y),43!=h&&45!=h||Y++,A=Y;A<v&&(h=y.charCodeAt(A))>=48&&h<=57;A++){}A==Y&&J(),Y=A}return +y.slice(x,Y)}if(w&&J(),"true"==y.slice(Y,Y+4)){return Y+=4,!0}if("false"==y.slice(Y,Y+5)){return Y+=5,!1}if("null"==y.slice(Y,Y+4)){return Y+=4,null}J()}}return"$"},G=function(h){var o,u;if("$"==h&&J(),"string"==typeof h){if("@"==(M?h.charAt(0):h[0])){return h.slice(1)}if("["==h){for(o=[];"]"!=(h=B());u||(u=!0)){u&&(","==h?"]"==(h=B())&&J():J()),","==h&&J(),o.push(G(h))}return o}if("{"==h){for(o={};"}"!=(h=B());u||(u=!0)){u&&(","==h?"}"==(h=B())&&J():J()),","!=h&&"string"==typeof h&&"@"==(M?h.charAt(0):h[0])&&":"==B()||J(),o[h.slice(1)]=G(B())}return o}J()}return h},z=function(h,u,v){var o=i(h,u,v);o===ae?delete h[u]:h[u]=o},i=function(o,v,w){var u,h=o[v];if("object"==typeof h&&h){if("[object Array]"==H.call(h)){for(u=h.length;u--;){z(h,u,w)}}else{Q(h,function(x){z(h,x,w)})}}return w.call(o,v,h)};ak.parse=function(h,u){var v,o;return Y=0,F=""+h,v=G(B()),"$"!=B()&&J(),Y=F=null,u&&"[object Function]"==H.call(u)?i((o={},o[""]=v,o),"",u):v}}}return ak.runInContext=j,ak}var e="function"==typeof a&&a.amd,t={"function":!0,object:!0},q=t[typeof b]&&b&&!b.nodeType&&b,g=t[typeof window]&&window||this,r=q&&t[typeof d]&&d&&!d.nodeType&&"object"==typeof f&&f;if(!r||r.global!==r&&r.window!==r&&r.self!==r||(g=r),q&&!e){j(g,q)}else{var p=g.JSON,m=g.JSON3,k=!1,n=j(g,g.JSON3={noConflict:function(){return k||(k=!0,g.JSON=p,g.JSON3=m,p=m=null),n}});g.JSON={parse:n.parse,stringify:n.stringify}}e&&a(function(){return n})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(c,f,h){function d(i){for(var k,l=/([^=?&]+)=?([^&]*)/g,j={};k=l.exec(i);j[decodeURIComponent(k[1])]=decodeURIComponent(k[2])){}return j}function b(i,k){k=k||"";var l=[];"string"!=typeof k&&(k="?");for(var j in i){g.call(i,j)&&l.push(encodeURIComponent(j)+"="+encodeURIComponent(i[j]))}return l.length?k+l.join("&"):""}var g=Object.prototype.hasOwnProperty;h.stringify=b,h.parse=d},{}],57:[function(b,c,d){c.exports=function(f,g){if(g=g.split(":")[0],!(f=+f)){return !1}switch(g){case"http":case"ws":return 80!==f;case"https":case"wss":return 443!==f;case"ftp":return 21!==f;case"gopher":return 70!==f;case"file":return !1}return 0!==f}},{}],58:[function(y,q,g){function b(c){var f=p.exec(c);return{protocol:f[1]?f[1].toLowerCase():"",slashes:!!f[2],rest:f[3]}}function k(f,u){for(var B=(u||"/").split("/").slice(0,-1).concat(f.split("/")),l=B.length,c=B[l-1],A=!1,h=0;l--;){"."===B[l]?B.splice(l,1):".."===B[l]?(B.splice(l,1),h++):h&&(0===l&&(A=!0),B.splice(l,1),h--)}return A&&B.unshift(""),"."!==c&&".."!==c||B.push(""),B.join("/")}function d(E,r,h){if(!(this instanceof d)){return new d(E,r,h)}var F,C,o,u,c,D,i=m.slice(),B=typeof r,A=this,l=0;for("object"!==B&&"string"!==B&&(h=r,r=null),h&&"function"!=typeof h&&(h=v.parse),r=x(r),C=b(E||""),F=!C.protocol&&!C.slashes,A.slashes=C.slashes||F&&r.slashes,A.protocol=C.protocol||r.protocol||"",E=C.rest,C.slashes||(i[2]=[/(.*)/,"pathname"]);l<i.length;l++){u=i[l],o=u[0],D=u[1],o!==o?A[D]=E:"string"==typeof o?~(c=E.indexOf(o))&&("number"==typeof u[2]?(A[D]=E.slice(0,c),E=E.slice(c+u[2])):(A[D]=E.slice(c),E=E.slice(0,c))):(c=o.exec(E))&&(A[D]=c[1],E=E.slice(0,c.index)),A[D]=A[D]||(F&&u[3]?r[D]||"":""),u[4]&&(A[D]=A[D].toLowerCase())}h&&(A.query=h(A.query)),F&&r.slashes&&"/"!==A.pathname.charAt(0)&&(""!==A.pathname||""!==r.pathname)&&(A.pathname=k(A.pathname,r.pathname)),j(A.port,A.protocol)||(A.host=A.hostname,A.port=""),A.username=A.password="",A.auth&&(u=A.auth.split(":"),A.username=u[0]||"",A.password=u[1]||""),A.origin=A.protocol&&A.host&&"file:"!==A.protocol?A.protocol+"//"+A.host:"null",A.href=A.toString()}function z(f,l,u){var h=this;switch(f){case"query":"string"==typeof l&&l.length&&(l=(u||v.parse)(l)),h[f]=l;break;case"port":h[f]=l,j(l,h.protocol)?l&&(h.host=h.hostname+":"+l):(h.host=h.hostname,h[f]="");break;case"hostname":h[f]=l,h.port&&(l+=":"+h.port),h.host=l;break;case"host":h[f]=l,/:\d+$/.test(l)?(l=l.split(":"),h.port=l.pop(),h.hostname=l.join(":")):(h.hostname=l,h.port="");break;case"protocol":h.protocol=l.toLowerCase(),h.slashes=!u;break;case"pathname":h.pathname=l.length&&"/"!==l.charAt(0)?"/"+l:l;break;default:h[f]=l}for(var c=0;c<m.length;c++){var s=m[c];s[4]&&(h[s[1]]=h[s[1]].toLowerCase())}return h.origin=h.protocol&&h.host&&"file:"!==h.protocol?h.protocol+"//"+h.host:"null",h.href=h.toString(),h}function w(f){f&&"function"==typeof f||(f=v.stringify);var l,o=this,h=o.protocol;h&&":"!==h.charAt(h.length-1)&&(h+=":");var c=h+(o.slashes?"//":"");return o.username&&(c+=o.username,o.password&&(c+=":"+o.password),c+="@"),c+=o.host+o.pathname,l="object"==typeof o.query?f(o.query):o.query,l&&(c+="?"!==l.charAt(0)?"?"+l:l),o.hash&&(c+=o.hash),c}var j=y("requires-port"),x=y("./lolcation"),v=y("querystringify"),p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,m=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];d.prototype={set:z,toString:w},d.extractProtocol=b,d.location=x,d.qs=v,q.exports=d},{"./lolcation":59,querystringify:56,"requires-port":57}],59:[function(b,c,d){(function(h){var f,e=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,g={hash:1,query:1};c.exports=function(m){m=m||h.location||{},f=f||b("./");var k,j={},i=typeof m;if("blob:"===m.protocol){j=new f(unescape(m.pathname),{})}else{if("string"===i){j=new f(m,{});for(k in g){delete j[k]}}else{if("object"===i){for(k in m){k in g||(j[k]=m[k])}void 0===j.slashes&&(j.slashes=e.test(m.href))}}}return j}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":58}]},{},[1])(1)});